


<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Project documentation ALADIN-M">
      
      
        <link rel="canonical" href="https://alexe15.github.io/ALADIN.m/ParallelExample/">
      
      
        <meta name="author" content="Alexander Engelmann">
      
      <link rel="shortcut icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1, mkdocs-material-5.1.0">
    
    
      
        <title>Parallel Computing - ALADIN-ALPHA</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.89dc9fe3.min.css">
      
        <link rel="stylesheet" href="../assets/stylesheets/palette.ecd4686e.min.css">
      
      
        
        
        <meta name="theme-color" content="#546e7a">
      
    
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
      <link rel="stylesheet" href="../css/extra.css">
    
    
      
    
    
  </head>
  
  
    
    
    <body dir="ltr" data-md-color-primary="blue-grey" data-md-color-accent="indigo">
  
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#using-aladin-alphaalpha-with-parfor" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="https://alexe15.github.io/ALADIN.m/" title="ALADIN-ALPHA" class="md-header-nav__button md-logo" aria-label="ALADIN-ALPHA">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12,8A3,3 0 0,0 15,5A3,3 0 0,0 12,2A3,3 0 0,0 9,5A3,3 0 0,0 12,8M12,11.54C9.64,9.35 6.5,8 3,8V19C6.5,19 9.64,20.35 12,22.54C14.36,20.35 17.5,19 21,19V8C17.5,8 14.36,9.35 12,11.54Z" /></svg>

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3,6H21V8H3V6M3,11H21V13H3V11M3,16H21V18H3V16Z" /></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            ALADIN-ALPHA
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              Parallel Computing
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z" /></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z" /></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z" /></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header-nav__source">
        
<a href="https://github.com/alexe15/ALADIN.m" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    alexe15/ALADIN.m
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
        
      
      
        
          

  

<nav class="md-tabs md-tabs--active" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  <li class="md-tabs__item">
    
      <a href=".." class="md-tabs__link">
        Getting Started
      </a>
    
  </li>

      
        
      
        
      
        
      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../robotEx/" class="md-tabs__link md-tabs__link--active">
          Application Examples
        </a>
      
    </li>
  

      
        
      
    </ul>
  </div>
</nav>
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="https://alexe15.github.io/ALADIN.m/" title="ALADIN-ALPHA" class="md-nav__button md-logo" aria-label="ALADIN-ALPHA">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12,8A3,3 0 0,0 15,5A3,3 0 0,0 12,2A3,3 0 0,0 9,5A3,3 0 0,0 12,8M12,11.54C9.64,9.35 6.5,8 3,8V19C6.5,19 9.64,20.35 12,22.54C14.36,20.35 17.5,19 21,19V8C17.5,8 14.36,9.35 12,11.54Z" /></svg>

    </a>
    ALADIN-ALPHA
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/alexe15/ALADIN.m" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    alexe15/ALADIN.m
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href=".." title="Getting Started" class="md-nav__link">
      Getting Started
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../ALADIN/" title="The Algorithm" class="md-nav__link">
      The Algorithm
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../codeStruct/" title="Code Structure" class="md-nav__link">
      Code Structure
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../options/" title="Options" class="md-nav__link">
      Options
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5" checked>
    
    <label class="md-nav__link" for="nav-5">
      Application Examples
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z" /></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Application Examples" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg>
        </span>
        Application Examples
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../robotEx/" title="Distributed MPC" class="md-nav__link">
      Distributed MPC
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../redComm/" title="Reducing Communication" class="md-nav__link">
      Reducing Communication
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Parallel Computing
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3,9H17V7H3V9M3,13H17V11H3V13M3,17H17V15H3V17M19,17H21V15H19V17M19,7V9H21V7H19M19,13H21V11H19V13Z" /></svg>
        </span>
      </label>
    
    <a href="./" title="Parallel Computing" class="md-nav__link md-nav__link--active">
      Parallel Computing
    </a>
    
      
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#problem-setup" class="md-nav__link">
    Problem setup
  </a>
  
    <nav class="md-nav" aria-label="Problem setup">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#implementation" class="md-nav__link">
    Implementation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#runtime-analysis" class="md-nav__link">
    Runtime Analysis
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#result" class="md-nav__link">
    Result
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../machLearn/" title="Machine Learing" class="md-nav__link">
      Machine Learing
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../furtherReading/" title="Publications" class="md-nav__link">
      Publications
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#problem-setup" class="md-nav__link">
    Problem setup
  </a>
  
    <nav class="md-nav" aria-label="Problem setup">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#implementation" class="md-nav__link">
    Implementation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#runtime-analysis" class="md-nav__link">
    Runtime Analysis
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#result" class="md-nav__link">
    Result
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                  
                
                
                <h1 id="using-aladin-alphaalpha-with-parfor">Using ALADIN-<span><span class="MathJax_Preview">\alpha</span><script type="math/tex">\alpha</script></span> with parfor</h1>
<p>Here we consider a sensor network localization problem from the <a href="https://www.researchgate.net/publication/299465495_An_Augmented_Lagrangian_Based_Algorithm_for_Distributed_NonConvex_Optimization">SIAM ALADIN paper</a>. We illustrate, how the <code>parfor</code> option of ALADIN-<span><span class="MathJax_Preview">\alpha</span><script type="math/tex">\alpha</script></span> can be used for parallel execution. For this example the MATLAB parallel computing toolbox is required.</p>
<h2 id="problem-setup">Problem setup</h2>
<p>Let <span><span class="MathJax_Preview">N</span><script type="math/tex">N</script></span> be the number of sensors and let <span><span class="MathJax_Preview">\chi_i =(x_i,y_i)^\top \in \mathbb{R}^2</span><script type="math/tex">\chi_i =(x_i,y_i)^\top \in \mathbb{R}^2</script></span> be the unknown position of the <span><span class="MathJax_Preview">i</span><script type="math/tex">i</script></span>th sensor, let <span><span class="MathJax_Preview">\eta_i</span><script type="math/tex">\eta_i</script></span> be its estimated position, let <span><span class="MathJax_Preview">\xi_i</span><script type="math/tex">\xi_i</script></span>be the position of senosor <span><span class="MathJax_Preview">i+1</span><script type="math/tex">i+1</script></span> estimated by sensor <span><span class="MathJax_Preview">i</span><script type="math/tex">i</script></span> let <span><span class="MathJax_Preview">\bar{\eta_i}</span><script type="math/tex">\bar{\eta_i}</script></span> be the estimated distance between sensor <span><span class="MathJax_Preview">i</span><script type="math/tex">i</script></span> and its neighbors. The measurement error is given by <span><span class="MathJax_Preview">\eta_i - \chi_i</span><script type="math/tex">\eta_i - \chi_i</script></span> and is assumed to be Gaussian distributed with variance <span><span class="MathJax_Preview">\sigma_i^2 I_{2 \times 2}</span><script type="math/tex">\sigma_i^2 I_{2 \times 2}</script></span>. We further denote the measured distance between sensor <span><span class="MathJax_Preview">i</span><script type="math/tex">i</script></span> and sensor <span><span class="MathJax_Preview">i + 1</span><script type="math/tex">i + 1</script></span> by <span><span class="MathJax_Preview">\bar{\eta_i}</span><script type="math/tex">\bar{\eta_i}</script></span>. If we define the decision variable as <span><span class="MathJax_Preview">x_i = (\chi_i^\top, \xi_i^\top)^\top \in \mathbb{R}^4</span><script type="math/tex">x_i = (\chi_i^\top, \xi_i^\top)^\top \in \mathbb{R}^4</script></span> then we obtain the overall problem</p>
<div>
<div class="MathJax_Preview">
\begin{aligned}
\displaystyle \min_x &amp;\sum_{i = 1}^N f_i(x_i)\quad  \\
\text{ s.t. } &amp;\quad h_i(x_i) \leq 0 \quad \forall i \in \{1, \dots, N\}\\
&amp; \quad\xi_i = \chi_{i+1}  \quad \text{ }\text{ }\forall i \in \{1, \dots, N\}
\end{aligned}
</div>
<script type="math/tex; mode=display">
\begin{aligned}
\displaystyle \min_x &\sum_{i = 1}^N f_i(x_i)\quad  \\
\text{ s.t. } &\quad h_i(x_i) \leq 0 \quad \forall i \in \{1, \dots, N\}\\
& \quad\xi_i = \chi_{i+1}  \quad \text{ }\text{ }\forall i \in \{1, \dots, N\}
\end{aligned}
</script>
</div>
<p>with </p>
<p><span><span class="MathJax_Preview">f_i(x_i)=\frac{1}{4\sigma_i^2}\vert\vert\chi_i - \eta_i\vert\vert_2^2 + \frac{1}{4\sigma_{i+1}^2}\vert\vert\xi_i - \eta_{i+1}\vert\vert_2^2 + \frac{1}{2\sigma_{i+1}^2}(\vert\vert\chi_i - \xi_i\vert\vert_2^2  - \bar{\eta}_i)^2</span><script type="math/tex">f_i(x_i)=\frac{1}{4\sigma_i^2}\vert\vert\chi_i - \eta_i\vert\vert_2^2 + \frac{1}{4\sigma_{i+1}^2}\vert\vert\xi_i - \eta_{i+1}\vert\vert_2^2 + \frac{1}{2\sigma_{i+1}^2}(\vert\vert\chi_i - \xi_i\vert\vert_2^2  - \bar{\eta}_i)^2</script></span> and</p>
<p><span><span class="MathJax_Preview">h_i(x_i) = (\vert\vert\chi_i - \xi_i\vert\vert_2 - \bar{\eta_i})^2 - \bar{\sigma_i}^2</span><script type="math/tex">h_i(x_i) = (\vert\vert\chi_i - \xi_i\vert\vert_2 - \bar{\eta_i})^2 - \bar{\sigma_i}^2</script></span>   .</p>
<h3 id="implementation">Implementation</h3>
<p>For the implementaiton, firstly the problem needs to be defined in a way that is compatible to ALADIN-<span><span class="MathJax_Preview">\alpha</span><script type="math/tex">\alpha</script></span>. The definitions of variables and functions are executed in separate functions: for the computation of <span><span class="MathJax_Preview">\eta_i</span><script type="math/tex">\eta_i</script></span> and <span><span class="MathJax_Preview">\bar{\eta_i}</span><script type="math/tex">\bar{\eta_i}</script></span> the sensors are assumed to be equidistantly located in a circle, i.e.
$$
\chi_i = \left(N \cos (\frac{2i\pi}{N}), N \sin (\frac{2i\pi}{N})\right).
$$</p>
<p>The measuremnt errors are assumed to be normal distributed with variance sigma. The neighbour of sensor <span><span class="MathJax_Preview">n</span><script type="math/tex">n</script></span> is assumed to be sensor <span><span class="MathJax_Preview">1</span><script type="math/tex">1</script></span>, thus we define <span><span class="MathJax_Preview">\eta_{n+1} = \eta_1</span><script type="math/tex">\eta_{n+1} = \eta_1</script></span>. So we get:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="k">function</span><span class="w"> </span>[eta,eta_bar] <span class="p">=</span><span class="w"> </span><span class="nf">getEta</span><span class="p">(</span>N, d, sigma<span class="p">)</span><span class="w"></span>
<span class="c">% returns by sensor estimated initial position and distance to its neighbours</span>

 <span class="n">eta</span>     <span class="s">=</span> <span class="s">zeros(d,</span> <span class="s">N</span> <span class="s">+</span> <span class="s">1)</span><span class="p">;</span>
 <span class="n">eta_bar</span> <span class="p">=</span> <span class="nb">zeros</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">N</span><span class="p">);</span>

 <span class="n">for</span> <span class="s">i</span> <span class="s">=</span> <span class="s">1</span> <span class="s">:</span> <span class="s">N</span>
     <span class="n">eta</span><span class="p">(</span> <span class="p">:,</span> <span class="nb">i</span> <span class="p">)</span> <span class="p">=</span> <span class="p">[</span><span class="n">N</span> <span class="o">*</span> <span class="nb">cos</span><span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="nb">i</span> <span class="o">*</span> <span class="nb">pi</span> <span class="o">/</span> <span class="n">N</span><span class="p">)</span> <span class="o">+</span> <span class="n">normrnd</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">sigma</span><span class="p">)</span> <span class="p">;</span> <span class="c">...</span>
                    <span class="n">N</span> <span class="o">*</span> <span class="nb">sin</span><span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="nb">i</span> <span class="o">*</span> <span class="nb">pi</span> <span class="o">/</span> <span class="n">N</span><span class="p">)</span> <span class="o">+</span> <span class="n">normrnd</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">sigma</span><span class="p">)];</span>

     <span class="n">eta_bar</span><span class="p">(</span><span class="nb">i</span><span class="p">)</span>  <span class="p">=</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">N</span> <span class="o">*</span> <span class="nb">sin</span><span class="p">(</span> <span class="nb">pi</span> <span class="o">/</span> <span class="n">N</span><span class="p">)</span> <span class="o">+</span> <span class="n">normrnd</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">sigma</span><span class="p">);</span>
 <span class="n">end</span>

 <span class="s">eta(:,</span> <span class="s">N</span> <span class="s">+</span> <span class="s">1)</span> <span class="s">=</span> <span class="s">eta(:,</span> <span class="s">1)</span><span class="p">;</span>
<span class="n">end</span>
</code></pre></div>
</td></tr></table>

<p>Implementing <span><span class="MathJax_Preview">f</span><script type="math/tex">f</script></span> and <span><span class="MathJax_Preview">h</span><script type="math/tex">h</script></span> as above we obtain</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="k">function</span><span class="w"> </span>[F] <span class="p">=</span><span class="w"> </span><span class="nf">getObjective</span><span class="p">(</span>N, y, eta, eta_bar, sigma<span class="p">)</span><span class="w"></span>

<span class="n">F</span> <span class="p">=</span> <span class="nb">zeros</span><span class="p">(</span><span class="n">N</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
<span class="n">F</span> <span class="p">=</span> <span class="n">sym</span><span class="p">(</span><span class="n">F</span><span class="p">);</span>

<span class="n">F</span><span class="p">(:)</span> <span class="p">=</span> <span class="mi">1</span> <span class="o">/</span> <span class="p">(</span><span class="mi">4</span> <span class="o">*</span> <span class="n">sigma</span>^<span class="mi">2</span><span class="p">)</span> <span class="o">*</span> <span class="p">((</span><span class="n">y</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="p">:)</span> <span class="o">-</span> <span class="n">eta</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span> <span class="p">:</span> <span class="n">N</span><span class="p">))</span><span class="o">.^</span><span class="mi">2</span> <span class="o">+</span> <span class="p">(</span><span class="n">y</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="p">:)</span> <span class="o">-</span> <span class="n">eta</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span> <span class="p">:</span> <span class="n">N</span><span class="p">))</span><span class="o">.^</span><span class="mi">2</span><span class="p">)</span> <span class="c">...</span>
 <span class="o">+</span> <span class="mi">1</span> <span class="o">/</span> <span class="p">(</span><span class="mi">4</span> <span class="o">*</span> <span class="n">sigma</span>^<span class="mi">2</span><span class="p">)</span> <span class="o">*</span> <span class="p">((</span><span class="n">y</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="p">:)</span> <span class="o">-</span> <span class="n">eta</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span> <span class="p">:</span> <span class="k">end</span><span class="p">))</span><span class="o">.^</span><span class="mi">2</span> <span class="o">+</span> <span class="p">(</span><span class="n">y</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="p">:)</span> <span class="o">-</span> <span class="n">eta</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span> <span class="p">:</span> <span class="k">end</span><span class="p">))</span><span class="o">.^</span><span class="mi">2</span><span class="p">)</span> <span class="c">...</span>
 <span class="o">+</span> <span class="mi">1</span> <span class="o">/</span> <span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="n">sigma</span>^<span class="mi">2</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="nb">sqrt</span><span class="p">((</span><span class="n">y</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="p">:)</span> <span class="o">-</span> <span class="n">y</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="p">:))</span><span class="o">.^</span><span class="mi">2</span> <span class="o">+</span> <span class="p">(</span><span class="n">y</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="p">:)</span> <span class="o">-</span> <span class="n">y</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="p">:))</span><span class="o">.^</span><span class="mi">2</span><span class="p">)</span> <span class="o">-</span> <span class="n">eta_bar</span><span class="p">(:)</span><span class="o">&#39;</span><span class="p">)</span><span class="o">.^</span><span class="mi">2</span><span class="p">;</span>

<span class="n">end</span>
</code></pre></div>
</td></tr></table>

<p>and</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="k">function</span><span class="w"> </span>[H] <span class="p">=</span><span class="w"> </span><span class="nf">getInequalityConstr</span><span class="p">(</span>N, y, eta_bar<span class="p">)</span><span class="w"></span>

<span class="w"> </span><span class="n">H</span> <span class="p">=</span> <span class="nb">zeros</span><span class="p">(</span><span class="n">N</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
 <span class="n">H</span> <span class="p">=</span> <span class="n">sym</span><span class="p">(</span><span class="n">H</span><span class="p">);</span>

 <span class="n">H</span><span class="p">(:)</span> <span class="p">=</span> <span class="p">(</span><span class="nb">sqrt</span><span class="p">((</span><span class="n">y</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="p">:)</span> <span class="o">-</span> <span class="n">y</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="p">:))</span><span class="o">.^</span><span class="mi">2</span> <span class="o">+</span> <span class="p">(</span><span class="n">y</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="p">:)</span> <span class="o">-</span> <span class="n">y</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="p">:))</span><span class="o">.^</span><span class="mi">2</span><span class="p">)</span> <span class="o">-</span> <span class="n">eta_bar</span><span class="p">(:)</span><span class="o">&#39;</span><span class="p">)</span><span class="o">.^</span><span class="mi">2</span><span class="p">;</span>

<span class="n">end</span>
</code></pre></div>
</td></tr></table>

<p>The coupling condition <span><span class="MathJax_Preview">\xi_i = \chi_{i+1}</span><script type="math/tex">\xi_i = \chi_{i+1}</script></span> can be formulated as <span><span class="MathJax_Preview">\sum A_ix_i = 0</span><script type="math/tex">\sum A_ix_i = 0</script></span> with </p>
<div>
<div class="MathJax_Preview">A_1 = \begin{pmatrix} 0 &amp; I \\
 0 &amp; 0 \\
 0 &amp; 0 \\
 \vdots &amp; \vdots \\
 0 &amp; 0 \\
 -I &amp; 0
 \end{pmatrix}, \;
A_2 = \begin{pmatrix} -I &amp; 0 \\
 0 &amp; I \\
 0 &amp; 0 \\
 \vdots &amp; \vdots \\
 0 &amp; 0 \\
 0 &amp; 0
 \end{pmatrix}, \;
A_3 = \begin{pmatrix} 0 &amp; 0 \\
 -I &amp; 0 \\
 0 &amp; I \\
 \vdots &amp; \vdots \\
 0 &amp; 0 \\
 0 &amp; 0
 \end{pmatrix}, \; \cdots \;,  \;
A_N = \begin{pmatrix} 0 &amp; 0 \\
 0 &amp; 0 \\
 0 &amp; 0 \\
 \vdots &amp; \vdots \\
 -I &amp; 0 \\
 0 &amp; I
 \end{pmatrix}
 </div>
<script type="math/tex; mode=display">A_1 = \begin{pmatrix} 0 & I \\
 0 & 0 \\
 0 & 0 \\
 \vdots & \vdots \\
 0 & 0 \\
 -I & 0
 \end{pmatrix}, \;
A_2 = \begin{pmatrix} -I & 0 \\
 0 & I \\
 0 & 0 \\
 \vdots & \vdots \\
 0 & 0 \\
 0 & 0
 \end{pmatrix}, \;
A_3 = \begin{pmatrix} 0 & 0 \\
 -I & 0 \\
 0 & I \\
 \vdots & \vdots \\
 0 & 0 \\
 0 & 0
 \end{pmatrix}, \; \cdots \;,  \;
A_N = \begin{pmatrix} 0 & 0 \\
 0 & 0 \\
 0 & 0 \\
 \vdots & \vdots \\
 -I & 0 \\
 0 & I
 \end{pmatrix}
 </script>
</div>
<p>while setting </p>
<div>
<div class="MathJax_Preview">I = \begin{pmatrix} 1 &amp; 0 \\ 0 &amp; 1 \end{pmatrix}</div>
<script type="math/tex; mode=display">I = \begin{pmatrix} 1 & 0 \\ 0 & 1 \end{pmatrix}</script>
</div>
<p>In Matlab this can be implemented as follows:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="k">function</span><span class="w"> </span>[AA] <span class="p">=</span><span class="w"> </span><span class="nf">getCouplingMatrix</span><span class="p">(</span>N, n<span class="p">)</span><span class="w"></span>
<span class="w"> </span><span class="n">I</span> <span class="p">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">;</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">];</span>
 <span class="n">A0</span> <span class="p">=</span> <span class="nb">zeros</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">N</span><span class="p">,</span> <span class="n">n</span><span class="p">);</span>

 <span class="n">A1</span> <span class="p">=</span> <span class="n">A0</span><span class="p">;</span>
 <span class="n">A1</span><span class="p">(</span><span class="mi">1</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span><span class="mi">4</span><span class="p">)</span> <span class="p">=</span> <span class="n">I</span><span class="p">;</span>
 <span class="n">A1</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">N</span> <span class="o">-</span> <span class="mi">1</span><span class="p">:</span> <span class="mi">2</span><span class="o">*</span><span class="n">N</span><span class="p">,</span> <span class="mi">1</span><span class="p">:</span><span class="mi">2</span><span class="p">)</span> <span class="p">=</span> <span class="o">-</span><span class="n">I</span><span class="p">;</span>

 <span class="n">AA</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="p">=</span> <span class="n">mat2cell</span><span class="p">(</span><span class="n">A_1</span><span class="p">,</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">N</span><span class="p">,</span> <span class="n">n</span><span class="p">);</span>

 <span class="n">for</span> <span class="s">i</span> <span class="s">=</span> <span class="s">2</span> <span class="s">:</span> <span class="s">1</span> <span class="s">:</span> <span class="s">N</span>
    <span class="n">A_i</span> <span class="p">=</span> <span class="n">A0</span><span class="p">;</span>
    <span class="n">A_i</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="p">(</span><span class="nb">i</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span> <span class="p">:</span> <span class="mi">2</span><span class="o">*</span><span class="p">(</span><span class="nb">i</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span> <span class="o">+</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">:</span><span class="mi">2</span><span class="p">)</span> <span class="p">=</span> <span class="o">-</span><span class="n">I</span><span class="p">;</span>
    <span class="n">A_i</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="nb">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">:</span> <span class="mi">2</span><span class="o">*</span><span class="nb">i</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span><span class="mi">4</span> <span class="p">)</span> <span class="p">=</span> <span class="n">I</span><span class="p">;</span>
    <span class="n">AA</span><span class="p">(</span><span class="nb">i</span><span class="p">)</span> <span class="p">=</span> <span class="n">mat2cell</span><span class="p">(</span><span class="n">A_i</span><span class="p">,</span> <span class="mi">2</span><span class="o">*</span><span class="n">N</span><span class="p">,</span> <span class="n">n</span><span class="p">);</span>
 <span class="n">end</span>
<span class="s">end</span>
</code></pre></div>
</td></tr></table>

<p>A start vector can be defined similarly to the estimated positions:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="k">function</span><span class="w"> </span>[zz0] <span class="p">=</span><span class="w"> </span><span class="nf">getStartValue</span><span class="p">(</span>N, sigma<span class="p">)</span><span class="w"></span>
<span class="w"> </span><span class="n">initial_position</span> <span class="p">=</span> <span class="nb">zeros</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">N</span><span class="p">);</span>

 <span class="n">for</span> <span class="s">i</span> <span class="s">=</span> <span class="s">1</span>  <span class="s">:</span> <span class="s">N</span>
    <span class="n">initial_position</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">i</span><span class="p">)</span> <span class="p">=</span> <span class="n">N</span> <span class="o">*</span> <span class="nb">cos</span><span class="p">(</span> <span class="mi">2</span> <span class="o">*</span> <span class="nb">i</span> <span class="o">*</span> <span class="nb">pi</span> <span class="o">/</span> <span class="n">N</span> <span class="p">)</span> <span class="o">+</span> <span class="n">normrnd</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">sigma</span><span class="p">);</span>
    <span class="n">initial_position</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="nb">i</span><span class="p">)</span> <span class="p">=</span> <span class="n">N</span> <span class="o">*</span> <span class="nb">sin</span><span class="p">(</span> <span class="mi">2</span> <span class="o">*</span> <span class="nb">i</span> <span class="o">*</span> <span class="nb">pi</span> <span class="o">/</span> <span class="n">N</span> <span class="p">)</span> <span class="o">+</span> <span class="n">normrnd</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">sigma</span><span class="p">);</span>
 <span class="n">end</span>

 <span class="s">zz0</span> <span class="s">=</span> <span class="s">cell(1,</span> <span class="s">N)</span><span class="p">;</span>
 <span class="n">for</span> <span class="s">i</span> <span class="s">=</span> <span class="s">1</span> <span class="s">:</span> <span class="s">N-1</span>
    <span class="n">zz0</span><span class="p">(</span><span class="nb">i</span><span class="p">)</span> <span class="p">=</span> <span class="p">{[</span><span class="n">initial_position</span><span class="p">(:,</span> <span class="nb">i</span><span class="p">);</span> <span class="n">initial_position</span><span class="p">(:,</span> <span class="nb">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)]};</span>
 <span class="n">end</span>
 <span class="s">zz0(N)</span> <span class="s">=</span> <span class="s">{[initial_position(:,</span> <span class="s">N)</span><span class="p">;</span> <span class="n">initial_position</span><span class="p">(:,</span> <span class="mi">1</span><span class="p">)]};</span>

<span class="n">end</span>
</code></pre></div>
</td></tr></table>

<p>such that the overall problem can be set up  with the following function:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="k">function</span><span class="w"> </span>[sProb ] <span class="p">=</span><span class="w"> </span><span class="nf">setupSolver</span><span class="p">(</span>N, sigma<span class="p">)</span><span class="w"></span>

<span class="c">% general setup</span>

<span class="n">n</span>       <span class="s">=</span> <span class="s">4</span><span class="p">;</span>   <span class="c">% dimension of design variables          </span>
<span class="n">d</span>       <span class="s">=</span> <span class="s">2</span><span class="p">;</span>   <span class="c">% dimension of coordinate system </span>

<span class="c">% initialization of variables</span>
 <span class="n">y</span> <span class="p">=</span> <span class="n">sym</span><span class="p">(</span><span class="s">&#39;y%d%d&#39;</span><span class="p">,</span> <span class="p">[</span><span class="n">N</span> <span class="n">n</span><span class="p">],</span> <span class="s">&#39;real&#39;</span><span class="p">);</span>
 <span class="n">y</span> <span class="p">=</span> <span class="n">y</span><span class="o">&#39;</span><span class="p">;</span>


 <span class="p">[</span><span class="n">eta</span><span class="p">,</span> <span class="n">eta_bar</span><span class="p">]</span> <span class="p">=</span> <span class="n">getEta</span><span class="p">(</span><span class="n">N</span><span class="p">,</span> <span class="n">d</span><span class="p">,</span> <span class="n">sigma</span><span class="p">);</span>          <span class="c">% definition of estimated initial positions</span>
 <span class="n">F</span>   <span class="s">=</span> <span class="s">getObjective(N,</span> <span class="s">y,</span> <span class="s">eta,</span> <span class="s">eta_bar,</span> <span class="s">sigma)</span><span class="p">;</span> <span class="c">% definition of objective functions</span>
 <span class="n">H</span>   <span class="s">=</span> <span class="s">getInequalityConstr(N,</span> <span class="s">y,</span> <span class="s">eta_bar)</span><span class="p">;</span>      <span class="c">% definition of inequality constraint</span>
 <span class="n">AA</span>  <span class="s">=</span> <span class="s">getCouplingMatrix(N,</span> <span class="s">n)</span><span class="p">;</span>                 <span class="c">% definition of coupling matrix</span>
 <span class="n">zz0</span> <span class="p">=</span> <span class="n">getStartValue</span><span class="p">(</span><span class="n">N</span><span class="p">,</span> <span class="n">sigma</span><span class="p">);</span>                 <span class="c">% definition of start value for optimization</span>



<span class="c">%% setting up solver</span>

<span class="c">% set search area</span>
<span class="n">sProb</span><span class="p">.</span><span class="n">llbx</span> <span class="p">=</span> <span class="n">cell</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">N</span><span class="p">);</span>
<span class="n">sProb</span><span class="p">.</span><span class="n">uubx</span> <span class="p">=</span> <span class="n">cell</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">N</span><span class="p">);</span>
<span class="n">for</span> <span class="s">i</span> <span class="s">=</span> <span class="s">1</span> <span class="s">:</span> <span class="s">N</span>
    <span class="n">sProb</span><span class="p">.</span><span class="n">llbx</span><span class="p">(</span><span class="nb">i</span><span class="p">)</span> <span class="p">=</span> <span class="n">mat2cell</span><span class="p">([</span><span class="o">-</span><span class="nb">inf</span><span class="p">;</span> <span class="o">-</span><span class="nb">inf</span><span class="p">;</span> <span class="o">-</span><span class="nb">inf</span><span class="p">;</span> <span class="o">-</span><span class="nb">inf</span><span class="p">],</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
    <span class="n">sProb</span><span class="p">.</span><span class="n">uubx</span><span class="p">(</span><span class="nb">i</span><span class="p">)</span> <span class="p">=</span> <span class="n">mat2cell</span><span class="p">([</span> <span class="nb">inf</span><span class="p">;</span>  <span class="nb">inf</span><span class="p">;</span>  <span class="nb">inf</span><span class="p">;</span>  <span class="nb">inf</span><span class="p">],</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
<span class="n">end</span>

<span class="s">%</span> <span class="s">handover</span> <span class="s">of</span> <span class="s">functions</span>
<span class="n">sProb</span><span class="p">.</span><span class="n">locFuns</span><span class="p">.</span><span class="n">ffi</span>          <span class="p">=</span> <span class="n">cell</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">N</span><span class="p">);</span>
<span class="n">sProb</span><span class="p">.</span><span class="n">locFuns</span><span class="p">.</span><span class="n">hhi</span>          <span class="p">=</span> <span class="n">cell</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">N</span><span class="p">);</span>


<span class="n">for</span> <span class="s">i</span> <span class="s">=</span> <span class="s">1</span> <span class="s">:</span> <span class="s">N</span>
    <span class="n">sProb</span><span class="p">.</span><span class="n">locFuns</span><span class="p">.</span><span class="n">ffi</span><span class="p">(</span><span class="nb">i</span><span class="p">)</span> <span class="p">=</span> <span class="p">{</span><span class="n">matlabFunction</span><span class="p">(</span><span class="n">F</span><span class="p">(</span><span class="nb">i</span><span class="p">),</span> <span class="s">&#39;Vars&#39;</span><span class="p">,</span> <span class="p">{</span><span class="n">y</span><span class="p">(:,</span> <span class="nb">i</span><span class="p">)})}</span> <span class="p">;</span>
    <span class="n">sProb</span><span class="p">.</span><span class="n">locFuns</span><span class="p">.</span><span class="n">hhi</span><span class="p">(</span><span class="nb">i</span><span class="p">)</span> <span class="p">=</span> <span class="p">{</span><span class="n">matlabFunction</span><span class="p">(</span><span class="n">H</span><span class="p">(</span><span class="nb">i</span><span class="p">),</span> <span class="s">&#39;Vars&#39;</span><span class="p">,</span> <span class="p">{</span><span class="n">y</span><span class="p">(:,</span> <span class="nb">i</span><span class="p">)})}</span> <span class="p">;</span>
<span class="n">end</span>


<span class="s">sProb.AA</span> <span class="s">=</span> <span class="s">AA</span><span class="p">;</span>
<span class="n">sProb</span><span class="p">.</span><span class="n">zz0</span> <span class="p">=</span> <span class="n">zz0</span><span class="p">;</span>
</code></pre></div>
</td></tr></table>

<h3 id="runtime-analysis">Runtime Analysis</h3>
<p>For the runtime analysis, the idea is to ŕun the sensor network localization problem with varying number of sensors both with a decentral and a central optimization step. To do so, firstly a vector with a number of sensors is needed  and secondly a vector with variances. Then, the time needed for the decentral and the central optimization is measured and can be plotted. </p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="n">N</span> <span class="p">=</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">15</span> <span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">25</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">35</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">70</span><span class="p">,</span> <span class="mi">80</span><span class="p">,</span> <span class="mi">90</span><span class="p">,</span> <span class="mi">100</span><span class="p">];</span>
<span class="n">sigma</span> <span class="p">=</span> <span class="p">[</span><span class="mf">0.5</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mf">1.5</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mf">2.5</span><span class="p">,</span> <span class="mf">2.5</span><span class="p">,</span> <span class="mf">2.5</span><span class="p">,</span> <span class="mf">2.5</span><span class="p">,</span> <span class="mf">2.5</span><span class="p">,</span> <span class="mf">2.5</span><span class="p">,</span> <span class="mf">2.5</span><span class="p">,</span> <span class="mf">2.5</span><span class="p">,</span> <span class="mf">2.5</span><span class="p">,</span> <span class="mf">2.5</span><span class="p">];</span>

<span class="n">time</span> <span class="p">=</span> <span class="nb">zeros</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="nb">length</span><span class="p">(</span><span class="n">N</span><span class="p">));</span>
<span class="n">for</span> <span class="s">i</span> <span class="s">=</span> <span class="s">1</span> <span class="s">:</span> <span class="s">length(N)</span>
    <span class="n">sProb</span> <span class="p">=</span> <span class="n">setupSolver</span><span class="p">(</span><span class="n">N</span><span class="p">(</span><span class="nb">i</span><span class="p">),</span> <span class="n">sigma</span><span class="p">(</span><span class="nb">i</span><span class="p">));</span>
    <span class="n">opts</span><span class="p">.</span><span class="n">parfor</span> <span class="p">=</span> <span class="s">&#39;true&#39;</span> 

    <span class="n">time_parfor</span> <span class="p">=</span> <span class="n">tic</span><span class="p">;</span>
    <span class="n">sol</span> <span class="p">=</span> <span class="n">run_ALADINnew</span><span class="p">(</span><span class="n">sProb</span><span class="p">,</span> <span class="n">opts</span><span class="p">);</span>
    <span class="n">time</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">i</span><span class="p">)</span> <span class="p">=</span> <span class="n">toc</span><span class="p">(</span><span class="n">time_parfor</span><span class="p">);</span>

    <span class="n">time_for</span> <span class="p">=</span> <span class="n">tic</span><span class="p">;</span>
    <span class="n">sol</span> <span class="p">=</span> <span class="n">run_ALADINnew</span><span class="p">(</span><span class="n">sProb</span><span class="p">,</span> <span class="n">opts</span><span class="p">);</span>
    <span class="n">time</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="nb">i</span><span class="p">)</span> <span class="p">=</span> <span class="n">toc</span><span class="p">(</span><span class="n">time_for</span><span class="p">);</span>
<span class="n">end</span>

<span class="s">figure</span> 
<span class="n">plot</span><span class="p">(</span><span class="n">N</span><span class="p">,</span> <span class="n">time</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="p">:))</span>
<span class="n">title</span><span class="p">(</span><span class="s">&#39;runtime analysis&#39;</span><span class="p">)</span>
<span class="n">hold</span> <span class="s">on</span>

<span class="n">plot</span><span class="p">(</span><span class="n">N</span><span class="p">,</span> <span class="n">time</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="p">:))</span>
<span class="n">hold</span> <span class="s">off</span>
<span class="n">legend</span><span class="p">(</span><span class="s">&#39;decentral optimization&#39;</span><span class="p">,</span> <span class="s">&#39;central optimization&#39;</span><span class="p">)</span>
</code></pre></div>
</td></tr></table>

<h3 id="result">Result</h3>
<p>The runtime result can be obtained from the following figure. </p>
<p><img alt="Robot" src="../figures/run_time_comparison.png" /></p>
<p>Thus, for the case of the senor network localization problem a significant runtime improvement can be observed when the parfor option is set. Nonetheless it needs to be mentioned that an improvement on the runtime cannot always be achieved for every problem setup using the parfor option. In general, parfor is useful when the number of local optimization problems is large and the time for solving each of the local  optimization problems is relatively long. For details, see <a href="https://de.mathworks.com/help/parallel-computing/decide-when-to-use-parfor.html;jsessionid=4c67399db5b15c1b7951a965e1c7">decide when to use parfor</a></p>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid" aria-label="Footer">
        
          <a href="../redComm/" title="Reducing Communication" class="md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg>
            </div>
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Reducing Communication
              </div>
            </div>
          </a>
        
        
          <a href="../machLearn/" title="Machine Learing" class="md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Machine Learing
              </div>
            </div>
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4,11V13H16L10.5,18.5L11.92,19.92L19.84,12L11.92,4.08L10.5,5.5L16,11H4Z" /></svg>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/vendor.36cbf620.min.js"></script>
      <script src="../assets/javascripts/bundle.00c583dd.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}</script>
      
      <script>
        app = initialize({
          base: "..",
          features: ["tabs", "instant"],
          search: Object.assign({
            worker: "../assets/javascripts/worker/search.7f7c8775.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML"></script>
      
        <script src="https://unpkg.com/mermaid@7.1.2/dist/mermaid.min.js"></script>
      
    
  </body>
</html>